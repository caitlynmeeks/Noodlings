# Next Session: Minor Polish + TAB Toggle Log View Feature

## Quick Fixes First (15 minutes)

Before the TAB log view, add two small enhancements:

### 1. Add Age to Character Metadata

Update recipes to include age field (e.g., `age: "6 months old"`, `age: "mid-30s"`, `age: "unknown"`)

Add age to intuition broadcasts alongside species/pronouns.

### 2. Enhanced "People here:" Display

Update the `look` command (when showing room occupants) to display:

```
People here:
  caitlyn [Noodler, human, 9 years old, she]
  toad [Noodling, toad, mid-30s, he]
  callie [Noodling, human, 27 years old, she]
  servnak [Noodling, robot, age unknown, they]
  phi [Noodling, kitten, 6 months old, she]
  phido [Noodling, dog, 2 years old, he]
```

**Format**: `[Role, species, age, pronoun]`
- Role: "Noodler" (human user) or "Noodling" (AI agent)
- Species: human, toad, kitten, dog, robot, etc.
- Age: From recipe or "unknown"
- Pronoun: Just "she" not "she/her" (the "her" is implied)

**File to modify**: `commands.py` in the `cmd_look` function

---

## Main Feature: TAB Toggle Log View

## Context

The noodleMUSH system is now production-ready with:
- ‚úÖ Intuition Receiver (contextual awareness with species/pronouns/event narration)
- ‚úÖ Character Voice System (SERVNAK, Phi, Phido, Backwards Dweller)
- ‚úÖ Memory persistence (500 messages)
- ‚úÖ Unified @setdesc command
- ‚úÖ Keywords (me/here) for look and setdesc

## Feature Request: TAB Toggle Between Chat View and Log View

Implement a [TAB] key toggle in the noodleMUSH web interface to switch between two modes:

### 1. Chat View Mode (Default)
- Current interface as-is
- Shows conversation, emotes, thoughts
- User-facing experience

### 2. Real-Time Log View Mode
- Live console log streaming from the server
- Shows what's being written to log files
- Behind-the-scenes debugging view

### Requirements

**UI/UX:**
- Press [TAB] to toggle between modes
- Clear visual indicator of current mode
- Both views in same container (swap visibility)

**Log View Features:**
- Stream server logs in real-time via WebSocket
- Toggle button: "Verbose Mode" (show all) vs "Compact Mode" (hide long messages/thoughts)
- Eventually: Noodling filter dropdown to show only logs for specific agents

**Technical Approach:**
- Add log streaming endpoint to WebSocket server
- Create second output div for logs (hidden by default)
- TAB key handler toggles visibility between chat/log divs
- Logs styled with monospace font, color-coded by level (INFO/DEBUG/ERROR)
- Auto-scroll to bottom like chat view

**Files to Modify:**
- `web/index.html` - Add log view UI and TAB handler
- `server.py` - Add log streaming via WebSocket (or reuse existing logging)
- Optional: `config.yaml` - Configure log streaming settings

### User Experience

```
[Chat View] ‚Üê‚Üí [TAB] ‚Üê‚Üí [Log View]

Chat View:
  CALLIE says, "Hello everyone!"
  MR. TOAD privately thinks, I wonder about motor-cars...

Log View (Verbose):
  [INFO] [agent_bridge] Agent agent_callie perceiving: say from user_caity
  [INFO] [agent_bridge] [agent_callie] üìª Intuition: This is for everyone...
  [INFO] [llm_interface] ‚úÖ Response generated by: qwen/qwen3-4b-2507
  [INFO] [agent_bridge] üé≠ Voice translation: Basic ‚Üí Character voice

Log View (Compact):
  [INFO] Agent callie perceiving message from caity
  [INFO] üìª Intuition generated for callie
  [INFO] Response generated
  [INFO] Character voice applied
```

### Success Criteria

- [TAB] smoothly toggles between views
- Log view shows real-time server activity
- Verbose toggle works
- No performance impact on chat view
- Useful for debugging and understanding what's happening behind the scenes

## Why This Is Useful

- **Debugging**: See exactly what the system is doing
- **Learning**: Understand how intuition, character voice, and consciousness work
- **Development**: Catch errors and performance issues
- **Fun**: Watch the machinery behind the magic!

---

**Start here in next session!** The core consciousness features are done - now add developer/power-user tooling! üé≠üìä‚ú®
